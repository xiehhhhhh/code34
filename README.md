# code34
LIBRARY IEEE；
USE IEEE.STD_LOGIC 1164.ALL;
USE WORK.ex_pkg.ALL; 
  
ENTITY x_adder IS
PORT(clk50m,reset:IN STD LOGIC;
led:OUT STD_LOGIC_VECTOR(9 DOWNTO 0)); 
END x_adder;

ARCHITECTURE one OF x_adder IS
TYPE stype IS(s0,s1,s2,s3,s4,s5,s6,s7,s8,s9,
s10, s11,s12,s13,s14,s15,s16,s17,s18, s19)； 
SIGNAL state:stype; 
SIGNAL count:STD_LOGIC_VECTOR(22 DOWNTO 0);
SIGNAL clk10hz:STD_LOGIC;
BEGIN
i1:clk_div 
GENERIC MAP(FREQ => 10) 
PORT MAP (clk=>clk50m, 
clr=>'1',
clk_out=>clk10hz);
PROCESS(clk10hz) --此进程描述状态转移
BEGIN

IF clk10hz'EVENT AND clk10hz='1' THEN
IF reset='0' THEN STATE<=S0 --同步复位
ELSE
CASE STATE IS 
WHEN S0=>STATE<=S1;
WHEN S1=>STATE<=S2;
WHEN S2=>STATE<=S3; 
WHEN S3=>STATE<=S4;
WHEN S4=>STATE<=S5; 
WHEN S5=>STATE<=S6; 
WHEN S6=>STATE<=S7; 
WHEN S7=>STATE<=S8;
WHEN S8=>STATE<=S9; 
WHEN S9=>STATE<=S10;
WHEN S10=>STATE<=S11; 
WHEN S11=>STATE<=S12;
WHEN S12=>STATE<=S13; 
WHEN S13=>STATE<=S14;
WHEN S14=>STATE<=S15; 
WHEN S15=>STATE<=S16;
WHEN S16=>STATE<=S17; 
WHENS17=>STATE<=S18;
WHEN S18=>STATE<=S19; 
WHEN S19=>STATE<=S0;
WHEN OTHERS=>STATE<=S0;
END CASE; END IF; END IF;
END PROCESS;

PROCESS (STATE) 
BEGIN
CASE STATE IS
WHEN S0 =>led<="0000000000"; 
WHEN S1 =>led<="0000000001"; 
WHEN S2 =>led<="0000000011";
WHEN S3 =>led<="0000000111";
WHEN S4 =>led<="0000001111";
WHEN S5 =>led<="0000011111";
WHEN S6 =>led<="0000111111";
WHEN S7 =>led<="0001111111";
WHEN S8 =>led<="0011111111";
WHEN S9 =>led<="0111111111";
WHEN S10=>led<="1111111111"; 
WHEN S11=>led<="0111111111"; 
WHEN S12=>led<="0011111111";
WHEN S13=>led<="0001111111";
WHEN S14=>led<="0000111111";
WHEN S15=>led<="0000011111";
WHEN S16=>led<="0000001111";
WHEN S17=>led<="0000000111";
WHEN S18=>1ed<="0000000011";
WHEN S19=>led<="0000000001";
END CASE;
END PROCESS;
END one;
